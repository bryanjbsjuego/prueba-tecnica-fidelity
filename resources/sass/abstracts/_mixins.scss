@use 'variables' as *;

// Flexbox center
@mixin flex-center {
  display: flex;
  justify-content: center;
  align-items: center;
}

// Absolute center
@mixin absolute-center {
  position: absolute;
  top: 50%;
  left: 50%;
  transform: translate(-50%, -50%);
}

// Responsive breakpoints - MOBILE FIRST (min-width)
@mixin respond-to($breakpoint) {
  @if $breakpoint == mobile {
    @media (min-width: $breakpoint-mobile) { @content; }
  }
  @else if $breakpoint == tablet {
    @media (min-width: $breakpoint-tablet) { @content; }
  }
  @else if $breakpoint == desktop {
    @media (min-width: $breakpoint-desktop) { @content; }
  }
  @else if $breakpoint == desktop-max {
    @media (min-width: $breakpoint-desktop-max) { @content; }
  }
  @else if $breakpoint == wide {
    @media (min-width: $breakpoint-wide) { @content; }
  }
}

// Responsive breakpoints - DESKTOP FIRST (max-width)
// Usar estos para ocultar cosas en móvil/tablet
@mixin respond-down($breakpoint) {
  @if $breakpoint == mobile {
    @media (max-width: #{$breakpoint-mobile - 1px}) { @content; }
  }
  @else if $breakpoint == tablet {
    @media (max-width: #{$breakpoint-tablet - 1px}) { @content; }
  }
  @else if $breakpoint == desktop {
    @media (max-width: #{$breakpoint-desktop - 1px}) { @content; }
  }
  @else if $breakpoint == desktop-max {
    @media (max-width: #{$breakpoint-desktop-max - 1px}) { @content; }
  }
}

// Rangos específicos
@mixin mobile-only {
  @media (max-width: #{$breakpoint-tablet - 1px}) { @content; }
}

@mixin tablet-only {
  @media (min-width: $breakpoint-tablet) and (max-width: #{$breakpoint-desktop - 1px}) { @content; }
}

@mixin tablet-and-mobile {
  @media (max-width: #{$breakpoint-desktop - 1px}) { @content; }
}

@mixin desktop-and-up {
  @media (min-width: $breakpoint-desktop) { @content; }
}

// Line clamp (truncar texto)
@mixin line-clamp($lines: 2) {
  display: -webkit-box;
  -webkit-line-clamp: $lines;
  -webkit-box-orient: vertical;
  overflow: hidden;
}

// Aspect ratio
@mixin aspect-ratio($width, $height) {
  aspect-ratio: $width / $height;

  @supports not (aspect-ratio: 1) {
    &::before {
      content: '';
      display: block;
      padding-bottom: calc(($height / $width) * 100%);
    }
  }
}

// Hover con soporte táctil
@mixin hover {
  @media (hover: hover) and (pointer: fine) {
    &:hover {
      @content;
    }
  }
}

// Contenedor responsivo con max-width
@mixin container {
  width: 100%;
  max-width: $breakpoint-desktop-max;
  margin-left: auto;
  margin-right: auto;
  padding-left: $spacing-md;
  padding-right: $spacing-md;

  @include respond-to(tablet) {
    padding-left: $spacing-xl;
    padding-right: $spacing-xl;
  }

  @include respond-to(desktop) {
    padding-left: 80px;
    padding-right: 80px;
  }
}

// Contenedor full width con límite
@mixin container-full {
  width: 100%;
  max-width: $breakpoint-wide;
  margin-left: auto;
  margin-right: auto;
}

// Card flip effect para alianzas
@mixin card-flip {
  perspective: 1000px;

  &__inner {
    position: relative;
    width: 100%;
    height: 100%;
    transition: transform 0.6s;
    transform-style: preserve-3d;
  }

  &:hover &__inner {
    transform: rotateY(180deg);
  }

  &__front,
  &__back {
    position: absolute;
    width: 100%;
    height: 100%;
    backface-visibility: hidden;
  }

  &__back {
    transform: rotateY(180deg);
  }
}
